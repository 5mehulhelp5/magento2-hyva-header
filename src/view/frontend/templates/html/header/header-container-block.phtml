<?php
/** @var $block \Magento\Framework\View\Element\Template */
// Header is sticky up to medium
$class = 'sticky top-0 lg:relative lg:top-auto';

if ($additionalClasses = $block->getClass()) {
    $class .= ' ' . $additionalClasses;
}

// Header is sticky in desktop view as well
//$class = 'sticky top-0';
?>
<div x-data="stickyHeader()" class="z-50 transition ease-in-out transform-gpu lg:translate-y-0 <?= $class ?>" :class="isHidden ? '-translate-y-full' : 'translate-y-0'" @scroll.window.debounce="scroll">
<?= $block->getChildHtml() ?>
</div>
<script>
function stickyHeader() {
    return {
        lastOffset: 0,
        isHidden: false,
        scroll() {
            let offset = window.pageYOffset;
            this.isHidden = offset > this.lastOffset;
            this.lastOffset = offset;
        }
    }
}
</script>